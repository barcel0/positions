(this.webpackJsonppositions=this.webpackJsonppositions||[]).push([[0],{16:function(e,t){e.exports=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},205:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),o=a.n(l),c=(a(89),function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 100 100"},r.a.createElement("g",{transform:"translate(0,-952.36218)"},r.a.createElement("path",{d:"m 75,976.3622 0,52 10,0 0,-52 -10,0 z m -40,8 0,44 10,0 0,-44 -10,0 z m 20,8 0,36 10,0 0,-36 -10,0 z m -40,8 0,28 10,0 0,-28 -10,0 z",fill:"white",stroke:"white",strokeWidth:"2",className:"chart"})))}),s=a(20),i=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(s.b,{to:"/"},r.a.createElement(c,null),r.a.createElement("h1",{className:"title"},"Commitments of Traders"))),r.a.createElement("nav",null,"The Commitments of Traders is a weekly market report issued by the Commodity Futures Trading Commission (CFTC) enumerating the holdings of participants in various futures markets in the United States."))},u=a(35),d=a.n(u),_=a(2),m=a(15),h=a.n(m),p=function(e){return function(t){t({type:"SET_LOADING",payload:e})}},E=function(){return function(e){h.a.get("/api/contract").then((function(t){e({type:"GET_CONTRACTS",payload:t.data})})).then((function(){return e(p(!1))}))}},g=function(e){return function(t){t({type:"UPDATE_SEARCH_FILTER",payload:e})}},f=function(e){return function(t){t({type:"SET_SELECTED_CONTRACT_TYPE",payload:e})}},v=function(e,t,a){return function(n){var r=t[a];if(r&&"financial"===e)n({type:"SET_ACTIVE_WEEK",payload:{category:e,weekIndex:a,date:r.As_of_Date_In_Form_YYMMDD,mktName:r.Market_and_Exchange_Names,cftcCode:r.CFTC_Contract_Market_Code,contractUnits:r.Contract_Units,openInterestAll:r.Open_Interest_All,tradersAll:r.Traders_Tot_All,dealer:{positions:[r.Dealer_Positions_Long_All,r.Dealer_Positions_Short_All,r.Dealer_Positions_Spread_All],changes:[r.Change_in_Dealer_Long_All,r.Change_in_Dealer_Short_All,r.Change_in_Dealer_Spread_All],openInterest:[r.Pct_of_OI_Dealer_Long_All,r.Pct_of_OI_Dealer_Short_All,r.Pct_of_OI_Dealer_Spread_All],traders:[r.Traders_Dealer_Long_All,r.Traders_Dealer_Short_All,r.Traders_Dealer_Spread_All]},assetMgr:{positions:[r.Asset_Mgr_Positions_Long_All,r.Asset_Mgr_Positions_Short_All,r.Asset_Mgr_Positions_Spread_All],changes:[r.Change_in_Asset_Mgr_Long_All,r.Change_in_Asset_Mgr_Short_All,r.Change_in_Asset_Mgr_Spread_All],openInterest:[r.Pct_of_OI_Asset_Mgr_Long_All,r.Pct_of_OI_Asset_Mgr_Short_All,r.Pct_of_OI_Asset_Mgr_Spread_All],traders:[r.Traders_Asset_Mgr_Long_All,r.Traders_Asset_Mgr_Short_All,r.Traders_Asset_Mgr_Spread_All]},levFunds:{positions:[r.Lev_Money_Positions_Long_All,r.Lev_Money_Positions_Short_All,r.Lev_Money_Positions_Spread_All],changes:[r.Change_in_Lev_Money_Long_All,r.Change_in_Lev_Money_Short_All,r.Change_in_Lev_Money_Spread_All],openInterest:[r.Pct_of_OI_Lev_Money_Long_All,r.Pct_of_OI_Lev_Money_Short_All,r.Pct_of_OI_Lev_Money_Spread_All],traders:[r.Traders_Lev_Money_Long_All,r.Traders_Lev_Money_Short_All,r.Traders_Lev_Money_Spread_All]},otherRep:{positions:[r.Other_Rept_Positions_Long_All,r.Other_Rept_Positions_Short_All,r.Other_Rept_Positions_Spread_All],changes:[r.Change_in_Other_Rept_Long_All,r.Change_in_Other_Rept_Short_All,r.Change_in_Other_Rept_Spread_All],openInterest:[r.Pct_of_OI_Other_Rept_Long_All,r.Pct_of_OI_Other_Rept_Short_All,r.Pct_of_OI_Other_Rept_Spread_All],traders:[r.Traders_Other_Rept_Long_All,r.Traders_Other_Rept_Short_All,r.Traders_Other_Rept_Spread_All]},nonRep:{positions:[r.NonRept_Positions_Long_All,r.NonRept_Positions_Short_All,0],changes:[r.Change_in_NonRept_Long_All,r.Change_in_NonRept_Short_All,0],openInterest:[r.Pct_of_OI_NonRept_Long_All,r.Pct_of_OI_NonRept_Short_All,0],traders:["-","-","-"]}}});else if(r&&"disaggregated"===e){n({type:"SET_ACTIVE_WEEK",payload:{category:e,weekIndex:a,date:r.As_of_Date_In_Form_YYMMDD,mktName:r.Market_and_Exchange_Names,cftcCode:r.CFTC_Contract_Market_Code,contractUnits:r.Contract_Units,openInterestAll:r.Open_Interest_All,tradersAll:r.Traders_Tot_All,prodMerc:{positions:[r.Prod_Merc_Positions_Long_ALL,r.Prod_Merc_Positions_Short_ALL,0],changes:[r.Change_in_Prod_Merc_Long_All,r.Change_in_Prod_Merc_Short_All,0],openInterest:[r.Pct_of_OI_Prod_Merc_Long_All,r.Pct_of_OI_Prod_Merc_Short_All,0],traders:[r.Traders_Prod_Merc_Long_All,r.Traders_Prod_Merc_Short_All,0]},swap:{positions:[r.Swap_Positions_Long_All,r.Swap__Positions_Short_All,r.Swap__Positions_Spread_All],changes:[r.Change_in_Swap_Long_All,r.Change_in_Swap_Short_All,r.Change_in_Swap_Spread_All],openInterest:[r.Pct_of_OI_Swap_Long_All,r.Pct_of_OI_Swap_Short_All,r.Pct_of_OI_Swap_Spread_All],traders:[r.Traders_Swap_Long_All,r.Traders_Swap_Short_All,r.Traders_Swap_Spread_All]},mMoney:{positions:[r.M_Money_Positions_Long_ALL,r.M_Money_Positions_Short_ALL,r.M_Money_Positions_Spread_ALL],changes:[r.Change_in_M_Money_Long_All,r.Change_in_M_Money_Short_All,r.Change_in_M_Money_Spread_All],openInterest:[r.Pct_of_OI_M_Money_Long_All,r.Pct_of_OI_M_Money_Short_All,r.Pct_of_OI_M_Money_Spread_All],traders:[r.Traders_M_Money_Long_All,r.Traders_M_Money_Short_All,r.Traders_M_Money_Spread_All]},otherRep:{positions:[r.Other_Rept_Positions_Long_ALL,r.Other_Rept_Positions_Short_ALL,r.Other_Rept_Positions_Spread_ALL],changes:[r.Change_in_Other_Rept_Long_All,r.Change_in_Other_Rept_Short_All,r.Change_in_Other_Rept_Spread_All],openInterest:[r.Pct_of_OI_Other_Rept_Long_All,r.Pct_of_OI_Other_Rept_Short_All,r.Pct_of_OI_Other_Rept_Spread_All],traders:[r.Traders_Other_Rept_Long_All,r.Traders_Other_Rept_Short_All,r.Traders_Other_Rept_Spread_All]},nonRep:{positions:[r.NonRept_Positions_Long_All,r.NonRept_Positions_Short_All,0],changes:[r.Change_in_NonRept_Long_All,r.Change_in_NonRept_Short_All,0],openInterest:[r.Pct_of_OI_NonRept_Long_All,r.Pct_of_OI_NonRept_Short_All,0],traders:["-","-","-"]}}})}}},b=a(1),A=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-search"},r.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),r.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))},S=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x"},r.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))},y=Object(_.b)((function(e){return{contracts:e.contracts}}),{updateSearchFilter:g})((function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),l=a[0],o=a[1];return r.a.createElement("div",{className:"box-white"},r.a.createElement("div",{className:"search-container"},r.a.createElement(A,null),r.a.createElement("input",{type:"text",id:"search",name:"search",placeholder:"Search",value:l,onChange:function(t){return function(t){o(t.target.value),t.target.value.length>2?e.updateSearchFilter(t.target.value):e.updateSearchFilter("")}(t)}}),function(){if(e.contracts.searchFilter.length>0)return r.a.createElement("div",{className:"clear-search-bar",onClick:function(){return e.updateSearchFilter(""),void o("")}},r.a.createElement(S,null))}()))})),C=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-list"},r.a.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),r.a.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),r.a.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),r.a.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),r.a.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),r.a.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))},w=function(e){e.style,e.fill;var t=e.width,a=void 0===t?"100%":t;e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file"},r.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.a.createElement("polyline",{points:"13 2 13 9 20 9"}))},k=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevrons-down"},r.a.createElement("polyline",{points:"7 13 12 18 17 13"}),r.a.createElement("polyline",{points:"7 6 12 11 17 6"}))},O=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-up-circle"},r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("polyline",{points:"16 12 12 8 8 12"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"8"}))},L=a(16),N=a.n(L),P=Object(_.b)((function(e){return{contracts:e.contracts}}),{filterContracts:function(e,t,a){return function(n){"all"!==t?n({type:"FILTER_CONTRACTS",payload:e.filter((function(e){return e.category===t&&e.name.toLowerCase().match(a.toLowerCase())}))}):n({type:"FILTER_CONTRACTS",payload:e.filter((function(e){return e.name.toLowerCase().match(a.toLowerCase())}))})}},updateListFilter:function(e){return function(t){t({type:"UPDATE_LIST_FILTER",payload:e})}}})((function(e){var t=Object(n.useState)(20),a=Object(b.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){e.filterContracts(e.contracts.list,e.contracts.listFilter,e.contracts.searchFilter)}),[e.filterContracts,e.contracts.listFilter,e.contracts.searchFilter,l]);var c,i=function(e){return e>0?r.a.createElement("span",{className:"data-positive"},"+",N()(e)):e<0?r.a.createElement("span",{className:"data-negative"},N()(e)):r.a.createElement("span",null,"0")},u=function(){l<e.contracts.filteredList.length&&o(l+20)};return r.a.createElement("div",{className:"box-white column-layout"},r.a.createElement("div",{className:"box-header"},r.a.createElement("div",{className:"box-title"},r.a.createElement(C,null),r.a.createElement("h2",null,"Found Contracts")),(c=e.contracts.listFilter,r.a.createElement("div",{className:"box-filters"},r.a.createElement("div",{className:"btn "+("all"===c?"btn-active":"btn-unactive"),onClick:function(){return e.updateListFilter("all")}},"Show All"),r.a.createElement("div",{className:"btn "+("financial"===c?"btn-active":"btn-unactive"),onClick:function(){return e.updateListFilter("financial")}},"Financial Only"),r.a.createElement("div",{className:"btn "+("disaggregated"===c?"btn-active":"btn-unactive"),onClick:function(){return e.updateListFilter("disaggregated")}},"Disaggregated Only")))),r.a.createElement("ul",{className:"contract-list"},r.a.createElement("li",{className:"contract-list-item"},r.a.createElement("div",{className:"contract-list-item-header"},r.a.createElement(w,{width:14}),r.a.createElement("h3",{title:"Contract Name"},"Contract Name")),r.a.createElement("div",{className:"contract-list-item-data contract-list-item-data-header"},r.a.createElement("span",{title:"Last Date Update"},"Last Update"),r.a.createElement("span",{title:"Total Traders"},"Traders"),r.a.createElement("span",{title:"Total Change Long Positions (Reportable Traders Only)"},"Change Long"),r.a.createElement("span",{title:"Total Change Short Positions (Reportable Traders Only)"},"Change Short"))),e.contracts.filteredList.slice(0,l-1).map((function(e){return r.a.createElement(s.b,{to:"/contract/".concat(e.category,"/").concat(e.slug),key:e._id},r.a.createElement("li",{className:"contract-list-item"},r.a.createElement("div",{className:"contract-list-item-header"},r.a.createElement(w,{width:14}),r.a.createElement("h3",null,e.name)),r.a.createElement("div",{className:"contract-list-item-data"},r.a.createElement("span",null,new Date(e.lastUpdate.date).toLocaleString("en-GB",{year:"numeric",month:"short",day:"numeric"})),r.a.createElement("span",null,e.lastUpdate.traders),i(e.lastUpdate.changeLong),i(e.lastUpdate.changeShort))))}))),r.a.createElement("div",{className:"load-more-container"},function(){if(l<e.contracts.filteredList.length)return r.a.createElement("div",{className:"load-more-btn",onClick:function(){return u()}},r.a.createElement(k,null),r.a.createElement("span",null,"Load More"))}()),r.a.createElement("div",{className:"box-footer"},r.a.createElement("a",{href:"#top",title:"To Top"},r.a.createElement(O,null))))})),R=Object(_.b)((function(e){return{contracts:e.contracts}}),{getContracts:E,setLoading:p})((function(e){Object(n.useEffect)((function(){e.setLoading(!0),e.getContracts()}),[e.getContracts]);return!1===e.contracts.loading?r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement("title",null,"Commitments of Traders - tradersCMT"),r.a.createElement("meta",{name:"description",content:"Commitments of Traders meta desc goes here."})),r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement(y,null),r.a.createElement(P,null)))):r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"rect1"}),r.a.createElement("div",{className:"rect2"}),r.a.createElement("div",{className:"rect3"}),r.a.createElement("div",{className:"rect4"}),r.a.createElement("div",{className:"rect5"}))))})),M=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-text"},r.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.a.createElement("polyline",{points:"14 2 14 8 20 8"}),r.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.a.createElement("polyline",{points:"10 9 9 9 8 9"}))},x=a(11),T=Object(_.b)((function(e){return{contracts:e.contracts}}))((function(e){Object(n.useEffect)((function(){o(e.title)}),[e.title]);var t=Object(n.useState)(""),a=Object(b.a)(t,2),l=a[0],o=a[1],c={circumference:1*Math.PI,rotation:1*Math.PI,cutoutPercentage:60,legend:{display:!1}},s={labels:["Long","Short","Spreading"],datasets:[{backgroundColor:["#37517e","#fcb22d","#00a4df"],data:e.week.positions}]},i=function(e,t){var a=(100*t/e).toFixed(2);return a>0?r.a.createElement("span",{className:"data-positive"},"+",a,"%"):a<0?r.a.createElement("span",{className:"data-negative"},a,"%"):0===a?r.a.createElement("span",null,a,"%"):r.a.createElement("span",null,"0.00%")},u=function(e){return e>0?r.a.createElement("span",{className:"data-positive"},"+",N()(e)):e<0?r.a.createElement("span",{className:"data-negative"},N()(e)):r.a.createElement("span",null,e)};return r.a.createElement("li",{className:"trader-card"},r.a.createElement("div",{className:"trader-chart"},r.a.createElement(x.b,{data:s,options:c})),r.a.createElement("h3",null,l),r.a.createElement("div",{className:"trader-data-section"},r.a.createElement("h4",null,"Positions"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Long")," ",r.a.createElement("span",null,N()(e.week.positions[0]))),r.a.createElement("li",null,r.a.createElement("span",null,"Short")," ",r.a.createElement("span",null,N()(e.week.positions[1]))),r.a.createElement("li",null,r.a.createElement("span",null,"Spreading")," ",r.a.createElement("span",null,N()(e.week.positions[2]))))),r.a.createElement("div",{className:"trader-data-section"},r.a.createElement("h4",null,"Change"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Long"),r.a.createElement("span",null,u(e.week.changes[0])," (",i(e.week.positions[0],e.week.changes[0]),")")),r.a.createElement("li",null,r.a.createElement("span",null,"Short"),r.a.createElement("span",null,u(e.week.changes[1])," (",i(e.week.positions[1],e.week.changes[1]),")")),r.a.createElement("li",null,r.a.createElement("span",null,"Spreading"),r.a.createElement("span",null,u(e.week.changes[2])," (",i(e.week.positions[2],e.week.changes[2]),")")))),r.a.createElement("div",{className:"trader-data-section"},r.a.createElement("h4",null,"Open Interest"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Long")," ",r.a.createElement("span",null,e.week.openInterest[0],"%")),r.a.createElement("li",null,r.a.createElement("span",null,"Short")," ",r.a.createElement("span",null,e.week.openInterest[1],"%")),r.a.createElement("li",null,r.a.createElement("span",null,"Spreading")," ",r.a.createElement("span",null,e.week.openInterest[2],"%")))),r.a.createElement("div",{className:"trader-data-section"},r.a.createElement("h4",null,"Traders"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"Long")," ",r.a.createElement("span",null,e.week.traders[0])),r.a.createElement("li",null,r.a.createElement("span",null,"Short")," ",r.a.createElement("span",null,e.week.traders[1])),r.a.createElement("li",null,r.a.createElement("span",null,"Spreading")," ",r.a.createElement("span",null,e.week.traders[2])))))})),j=a(9),I=a.n(j),F=a(60),D=function(e){if(e){var t=I()(e,"long"),a=F(t).startOf("isoWeek").toDate(),n=F(t).endOf("isoWeek").toDate();return F(a).format("MMMM Do YYYY")+" - "+F(n).format("MMMM Do YYYY")}return"Loading..."},W=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-calendar"},r.a.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),r.a.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),r.a.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),r.a.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"}))},B=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevrons-left"},r.a.createElement("polyline",{points:"11 17 6 12 11 7"}),r.a.createElement("polyline",{points:"18 17 13 12 18 7"}))},U=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevrons-right"},r.a.createElement("polyline",{points:"13 17 18 12 13 7"}),r.a.createElement("polyline",{points:"6 17 11 12 6 7"}))},Y=Object(_.b)((function(e){return{contracts:e.contracts}}),{setActiveWeek:v})((function(e){var t=e.contracts.selectedContractActiveWeek,a=e.contracts.selectedContractActiveWeek.weekIndex,n=e.contracts.selectedContractPositions.length-1,l=e.contracts.selectedContractActiveWeek.category,o=e.contracts.selectedContractPositions,c=function(t){"forward"===t&&a<n?e.setActiveWeek(l,o,a+1):"backward"===t&&a>0&&e.setActiveWeek(l,o,a-1)};return r.a.createElement("section",null,r.a.createElement("div",{className:"box-white column-layout"},r.a.createElement("div",{className:"box-header"},r.a.createElement("div",{className:"box-title"},r.a.createElement(W,null),r.a.createElement("h2",null,"Weekly Report: ",D(t.date))),r.a.createElement("div",{className:"box-filters"},r.a.createElement("div",{className:"btn "+(a<=0?"btn-deactivated":"btn-unactive"),onClick:function(){return c("backward")}},r.a.createElement(B,null),"Backward"),r.a.createElement("div",{className:"btn "+(a>=n?"btn-deactivated":"btn-unactive"),onClick:function(){return c("forward")}},"Forward",r.a.createElement(U,null)))),function(e){return"financial"===e?r.a.createElement("ul",{className:"trader-container"},r.a.createElement(T,{title:"Dealer Intermediary",week:t.dealer}),r.a.createElement(T,{title:"Asset Mger / Institutional",week:t.assetMgr}),r.a.createElement(T,{title:"Leveraged Funds",week:t.levFunds}),r.a.createElement(T,{title:"Other Reportables",week:t.otherRep}),r.a.createElement(T,{title:"Nonreportable Positions",week:t.nonRep})):"disaggregated"===e?r.a.createElement("ul",{className:"trader-container"},r.a.createElement(T,{title:"Prod / Merch / Proc / User",week:t.prodMerc}),r.a.createElement(T,{title:"Swap Dealers",week:t.swap}),r.a.createElement(T,{title:"Managed Money",week:t.mMoney}),r.a.createElement(T,{title:"Other Reportables",week:t.otherRep}),r.a.createElement(T,{title:"Nonreportable Positions",week:t.nonRep})):void 0}(l)))})),z=Object(_.b)((function(e){return{contracts:e.contracts}}))((function(e){var t=Object(n.useState)({}),a=Object(b.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){!function(t,a){var n={labels:[],datasets:[{label:"Long",backgroundColor:"#37517e",data:[]},{label:"Short",backgroundColor:"#fcb22d",data:[]},{label:"Spreading",backgroundColor:"#00a4df",data:[]}]};t.slice(1-a).forEach((function(t){n.labels.push(I()(t.As_of_Date_In_Form_YYMMDD,"long"));var a=0,r=0,l=0;e.classDealer&&(a+=t.Dealer_Positions_Long_All,r+=t.Dealer_Positions_Short_All,l+=t.Dealer_Positions_Spread_All),e.classAssetMgr&&(a+=t.Asset_Mgr_Positions_Long_All,r+=t.Asset_Mgr_Positions_Short_All,l+=t.Asset_Mgr_Positions_Spread_All),e.classLevFunds&&(a+=t.Lev_Money_Positions_Long_All,r+=t.Lev_Money_Positions_Short_All,l+=t.Lev_Money_Positions_Spread_All),e.classOtherRep&&(a+=t.Other_Rept_Positions_Long_All,r+=t.Other_Rept_Positions_Short_All,l+=t.Other_Rept_Positions_Spread_All),e.classNonRep&&(a+=t.NonRept_Positions_Long_All,r+=t.NonRept_Positions_Short_All),n.datasets[0].data.push(a),n.datasets[1].data.push(r),n.datasets[2].data.push(l)})),o(n)}(e.contracts.selectedContractPositions,e.timeRange)}),[e]);return r.a.createElement(x.a,{data:l,height:50,options:{title:{display:!1,text:"VOLUME",fontSize:16},legend:{display:!1},hover:{onHover:function(e){this.getElementAtEvent(e).length?e.target.style.cursor="pointer":e.target.style.cursor="default"}},scales:{yAxes:[{stacked:!0,ticks:{fontSize:11,fontStyle:"bold"}}],xAxes:[{stacked:!0,ticks:{maxRotation:45,minRotation:45,fontSize:10,fontStyle:"bold"}}]}},getElementAtEvent:function(t){return function(t){if(t.length>0){var a=t[0]._model.label;e.handleWeekClick(a),window.scrollTo(0,0)}}(t)}})})),G=Object(_.b)((function(e){return{contracts:e.contracts}}))((function(e){var t=Object(n.useState)({}),a=Object(b.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){!function(t,a){var n={labels:[],datasets:[{label:"Long",lineTension:0,borderWidth:1.5,borderColor:"#37517e",pointBackgroundColor:"#37517e",pointRadius:.2,backgroundColor:"rgba(0, 0, 0, 0.0)",data:[]},{label:"Short",lineTension:0,borderWidth:1.5,borderColor:"#fcb22d",pointBackgroundColor:"#fcb22d",pointRadius:.2,backgroundColor:"rgba(0, 0, 0, 0.0)",data:[]},{label:"Spreading",lineTension:0,borderWidth:1.5,borderColor:"#00a4df",pointBackgroundColor:"#00a4df",pointRadius:.2,backgroundColor:"rgba(0, 0, 0, 0.0)",data:[]}]};t.slice(1-a).forEach((function(t){n.labels.push(I()(t.As_of_Date_In_Form_YYMMDD,"long"));var a=0,r=0,l=0;e.classDealer&&(a+=t.Dealer_Positions_Long_All,r+=t.Dealer_Positions_Short_All,l+=t.Dealer_Positions_Spread_All),e.classAssetMgr&&(a+=t.Asset_Mgr_Positions_Long_All,r+=t.Asset_Mgr_Positions_Short_All,l+=t.Asset_Mgr_Positions_Spread_All),e.classLevFunds&&(a+=t.Lev_Money_Positions_Long_All,r+=t.Lev_Money_Positions_Short_All,l+=t.Lev_Money_Positions_Spread_All),e.classOtherRep&&(a+=t.Other_Rept_Positions_Long_All,r+=t.Other_Rept_Positions_Short_All,l+=t.Other_Rept_Positions_Spread_All),e.classNonRep&&(a+=t.NonRept_Positions_Long_All,r+=t.NonRept_Positions_Short_All),n.datasets[0].data.push(a),n.datasets[1].data.push(r),n.datasets[2].data.push(l)})),o(n)}(e.contracts.selectedContractPositions,e.timeRange)}),[e]);return r.a.createElement(x.c,{data:l,options:{title:{display:!1,text:"POSITIONS",fontSize:16},hover:{onHover:function(e){this.getElementAtEvent(e).length?e.target.style.cursor="pointer":e.target.style.cursor="default"}},scales:{yAxes:[{stacked:!1,ticks:{fontSize:11,fontStyle:"bold"}}],xAxes:[{stacked:!0,ticks:{maxRotation:45,minRotation:45,fontSize:10,fontStyle:"bold"}}]}},height:100,getElementAtEvent:function(t){return function(t){if(t.length>0){var a=t[0]._index,n=t[0]._xScale._ticks[a].value;e.handleWeekClick(n),window.scrollTo(0,0)}}(t)}})})),H=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-trending-up"},r.a.createElement("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),r.a.createElement("polyline",{points:"17 6 23 6 23 12"}))},V=Object(_.b)((function(e){return{contracts:e.contracts}}))((function(e){var t=Object(n.useState)(104),a=Object(b.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(!0),s=Object(b.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(!0),_=Object(b.a)(d,2),m=_[0],h=_[1],p=Object(n.useState)(!0),E=Object(b.a)(p,2),g=E[0],f=E[1],v=Object(n.useState)(!1),A=Object(b.a)(v,2),S=A[0],y=A[1],C=Object(n.useState)(!1),w=Object(b.a)(C,2),k=w[0],L=w[1],N=function(e){switch(e){case"dealer":u(!i);break;case"assetMgr":h(!m);break;case"levFunds":f(!g);break;case"otherRep":y(!S);break;case"nonRep":L(!k)}};return r.a.createElement("section",null,r.a.createElement("div",{className:"box-white column-layout"},r.a.createElement("div",{className:"box-header"},r.a.createElement("div",{className:"box-title"},r.a.createElement(H,null),r.a.createElement("h2",null,"Historical Data")),r.a.createElement("div",{className:"box-filters"},r.a.createElement("div",{className:"btn "+(52===l?"btn-active":"btn-unactive"),onClick:function(){return o(52)}},"1Y"),r.a.createElement("div",{className:"btn "+(104===l?"btn-active":"btn-unactive"),onClick:function(){return o(104)}},"2Y"),r.a.createElement("div",{className:"btn "+(156===l?"btn-active":"btn-unactive"),onClick:function(){return o(156)}},"3Y"),r.a.createElement("div",{className:"btn "+(208===l?"btn-active":"btn-unactive"),onClick:function(){return o(208)}},"4Y"),r.a.createElement("div",{className:"btn "+(260===l?"btn-active":"btn-unactive"),onClick:function(){return o(260)}},"5Y"),r.a.createElement("div",{className:"btn "+(l===e.contracts.selectedContractPositions.length?"btn-active":"btn-unactive"),onClick:function(){return o(e.contracts.selectedContractPositions.length)}},"All"))),r.a.createElement("ul",{className:"trader-filter"},r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"dealer",defaultChecked:i,onChange:function(){return N("dealer")}}),r.a.createElement("label",{htmlFor:"dealer"},"Dealer Intermediary")),r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"assetMgr",defaultChecked:m,onChange:function(){return N("assetMgr")}}),r.a.createElement("label",{htmlFor:"assetMgr"},"Asset Manager / Institutional")),r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"levFunds",defaultChecked:g,onChange:function(){return N("levFunds")}}),r.a.createElement("label",{htmlFor:"levFunds"},"Leveraged Funds")),r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"otherRep",defaultChecked:S,onChange:function(){return N("otherRep")}}),r.a.createElement("label",{htmlFor:"otherRep"},"Other Reportables")),r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"nonRep",defaultChecked:k,onChange:function(){return N("nonRep")}}),r.a.createElement("label",{htmlFor:"nonRep"},"Nonreportable Positions"))),r.a.createElement("div",{className:"historical-data-section"},r.a.createElement("h3",null,"Positions"),r.a.createElement("div",{className:"historical-data-chart chart-md"},r.a.createElement(G,{timeRange:l,handleWeekClick:e.handleWeekClick,classDealer:i,classAssetMgr:m,classLevFunds:g,classOtherRep:S,classNonRep:k}))),r.a.createElement("div",{className:"historical-data-section "},r.a.createElement("h3",null,"Volume"),r.a.createElement("div",{className:"historical-data-chart chart-sm"},r.a.createElement(z,{timeRange:l,handleWeekClick:e.handleWeekClick,classDealer:i,classAssetMgr:m,classLevFunds:g,classOtherRep:S,classNonRep:k}))),r.a.createElement("div",{className:"box-footer"},r.a.createElement("a",{href:"#top"},r.a.createElement(O,null)))))})),J=Object(_.b)((function(e){return{contracts:e.contracts}}))((function(e){var t=Object(n.useState)({}),a=Object(b.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){!function(t,a){var n={labels:[],datasets:[{label:"Long",backgroundColor:"#37517e",data:[]},{label:"Short",backgroundColor:"#fcb22d",data:[]},{label:"Spreading",backgroundColor:"#00a4df",data:[]}]};t.slice(1-a).forEach((function(t){n.labels.push(I()(t.As_of_Date_In_Form_YYMMDD,"long"));var a=0,r=0,l=0;e.classProdMerc&&(a+=t.Prod_Merc_Positions_Long_ALL,r+=t.Prod_Merc_Positions_Short_ALL),e.classSwap&&(a+=t.Swap_Positions_Long_All,r+=t.Swap__Positions_Short_All,l+=t.Swap__Positions_Spread_All),e.classMMoney&&(a+=t.M_Money_Positions_Long_ALL,r+=t.M_Money_Positions_Short_ALL,l+=t.M_Money_Positions_Spread_ALL),e.classOtherRep&&(a+=t.Other_Rept_Positions_Long_ALL,r+=t.Other_Rept_Positions_Short_ALL,l+=t.Other_Rept_Positions_Spread_ALL),e.classNonRep&&(a+=t.NonRept_Positions_Long_All,r+=t.NonRept_Positions_Short_All),n.datasets[0].data.push(a),n.datasets[1].data.push(r),n.datasets[2].data.push(l)})),o(n)}(e.contracts.selectedContractPositions,e.timeRange)}),[e]);return r.a.createElement(x.a,{data:l,height:50,options:{title:{display:!1,text:"VOLUME",fontSize:16},legend:{display:!1},hover:{onHover:function(e){this.getElementAtEvent(e).length?e.target.style.cursor="pointer":e.target.style.cursor="default"}},scales:{yAxes:[{stacked:!0,ticks:{fontSize:11,fontStyle:"bold"}}],xAxes:[{stacked:!0,ticks:{maxRotation:45,minRotation:45,fontSize:10,fontStyle:"bold"}}]},onClick:{}},getElementAtEvent:function(t){return function(t){if(t.length>0){var a=t[0]._model.label;console.log(a),e.handleWeekClick(a),window.scrollTo(0,0)}}(t)}})})),K=Object(_.b)((function(e){return{contracts:e.contracts}}))((function(e){var t=Object(n.useState)({}),a=Object(b.a)(t,2),l=a[0],o=a[1];Object(n.useEffect)((function(){!function(t,a){var n={labels:[],datasets:[{label:"Long",lineTension:0,borderWidth:1,borderColor:"#37517e",pointBackgroundColor:"#37517e",pointRadius:1,backgroundColor:"rgba(0, 0, 0, 0.0)",data:[]},{label:"Short",lineTension:0,borderWidth:1,borderColor:"#fcb22d",pointBackgroundColor:"#fcb22d",pointRadius:1,backgroundColor:"rgba(0, 0, 0, 0.0)",data:[]},{label:"Spreading",lineTension:0,borderWidth:1,borderColor:"#00a4df",pointBackgroundColor:"#00a4df",pointRadius:1,backgroundColor:"rgba(0, 0, 0, 0.0)",data:[]}]};t.slice(1-a).forEach((function(t){n.labels.push(I()(t.As_of_Date_In_Form_YYMMDD,"long"));var a=0,r=0,l=0;e.classProdMerc&&(a+=t.Prod_Merc_Positions_Long_ALL,r+=t.Prod_Merc_Positions_Short_ALL),e.classSwap&&(a+=t.Swap_Positions_Long_All,r+=t.Swap__Positions_Short_All,l+=t.Swap__Positions_Spread_All),e.classMMoney&&(a+=t.M_Money_Positions_Long_ALL,r+=t.M_Money_Positions_Short_ALL,l+=t.M_Money_Positions_Spread_ALL),e.classOtherRep&&(a+=t.Other_Rept_Positions_Long_ALL,r+=t.Other_Rept_Positions_Short_ALL,l+=t.Other_Rept_Positions_Spread_ALL),e.classNonRep&&(a+=t.NonRept_Positions_Long_All,r+=t.NonRept_Positions_Short_All),n.datasets[0].data.push(a),n.datasets[1].data.push(r),n.datasets[2].data.push(l)})),o(n)}(e.contracts.selectedContractPositions,e.timeRange)}),[e]);return r.a.createElement(x.c,{data:l,options:{title:{display:!1,text:"POSITIONS",fontSize:16},hover:{onHover:function(e){this.getElementAtEvent(e).length?e.target.style.cursor="pointer":e.target.style.cursor="default"}},scales:{yAxes:[{stacked:!1,ticks:{fontSize:11,fontStyle:"bold"}}],xAxes:[{stacked:!0,ticks:{maxRotation:45,minRotation:45,fontSize:10,fontStyle:"bold"}}]}},height:100,getElementAtEvent:function(t){return function(t){if(t.length>0){var a=t[0]._index,n=t[0]._xScale._ticks[a].value;e.handleWeekClick(n),window.scrollTo(0,0)}}(t)}})})),$=Object(_.b)((function(e){return{contracts:e.contracts}}))((function(e){var t=Object(n.useState)(104),a=Object(b.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(!0),s=Object(b.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(!0),_=Object(b.a)(d,2),m=_[0],h=_[1],p=Object(n.useState)(!0),E=Object(b.a)(p,2),g=E[0],f=E[1],v=Object(n.useState)(!1),A=Object(b.a)(v,2),S=A[0],y=A[1],C=Object(n.useState)(!1),w=Object(b.a)(C,2),k=w[0],L=w[1],N=function(e){switch(e){case"prodMerc":u(!i);break;case"swap":h(!m);break;case"mMoney":f(!g);break;case"otherRep":y(!S);break;case"nonRep":L(!k)}};return r.a.createElement("section",null,r.a.createElement("div",{className:"box-white column-layout"},r.a.createElement("div",{className:"box-header"},r.a.createElement("div",{className:"box-title"},r.a.createElement(H,null),r.a.createElement("h2",null,"Historical Data")),r.a.createElement("div",{className:"box-filters"},r.a.createElement("div",{className:"btn "+(52===l?"btn-active":"btn-unactive"),onClick:function(){return o(52)}},"1Y"),r.a.createElement("div",{className:"btn "+(104===l?"btn-active":"btn-unactive"),onClick:function(){return o(104)}},"2Y"),r.a.createElement("div",{className:"btn "+(156===l?"btn-active":"btn-unactive"),onClick:function(){return o(156)}},"3Y"),r.a.createElement("div",{className:"btn "+(208===l?"btn-active":"btn-unactive"),onClick:function(){return o(208)}},"4Y"),r.a.createElement("div",{className:"btn "+(260===l?"btn-active":"btn-unactive"),onClick:function(){return o(260)}},"5Y"),r.a.createElement("div",{className:"btn "+(l===e.contracts.selectedContractPositions.length?"btn-active":"btn-unactive"),onClick:function(){return o(e.contracts.selectedContractPositions.length)}},"All"))),r.a.createElement("ul",{className:"trader-filter"},r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"prodMerc",defaultChecked:i,onChange:function(){return N("prodMerc")}}),r.a.createElement("label",{htmlFor:"prodMerc"},"Producer / Merchant / Processor / User")),r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"swap",defaultChecked:m,onChange:function(){return N("swap")}}),r.a.createElement("label",{htmlFor:"swap"},"Swap Dealer")),r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"mMoney",defaultChecked:g,onChange:function(){return N("mMoney")}}),r.a.createElement("label",{htmlFor:"mMoney"},"Managed Money")),r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"otherRep",defaultChecked:S,onChange:function(){return N("otherRep")}}),r.a.createElement("label",{htmlFor:"otherRep"},"Other Reportables")),r.a.createElement("div",{className:"trader-filter-option"},r.a.createElement("input",{type:"checkbox",id:"nonRep",defaultChecked:k,onChange:function(){return N("nonRep")}}),r.a.createElement("label",{htmlFor:"nonRep"},"Nonreportable Positions"))),r.a.createElement("div",{className:"historical-data-section"},r.a.createElement("h3",null,"Positions"),r.a.createElement("div",{className:"historical-data-chart chart-md"},r.a.createElement(K,{timeRange:l,handleWeekClick:e.handleWeekClick,classProdMerc:i,classSwap:m,classMMoney:g,classOtherRep:S,classNonRep:k}))),r.a.createElement("div",{className:"historical-data-section "},r.a.createElement("h3",null,"Volume"),r.a.createElement("div",{className:"historical-data-chart chart-sm"},r.a.createElement(J,{timeRange:l,handleWeekClick:e.handleWeekClick,classProdMerc:i,classSwap:m,classMMoney:g,classOtherRep:S,classNonRep:k}))),r.a.createElement("div",{className:"box-footer"},r.a.createElement("a",{href:"#top"},r.a.createElement(O,null)))))})),q=Object(_.b)((function(e){return{contracts:e.contracts}}),{getContractPositions:function(e,t,a){return function(n){var r="/api/position/".concat(e,"/").concat(t,"/").concat(a);n(p(!0)),n(g("")),h.a.get(r).then((function(t){n(v(e,t.data,t.data.length-1)),n({type:"GET_CONTRACT_POSITIONS",payload:t.data})})).then((function(){return n(f(a))})).then((function(){return n(p(!1))}))}},setSelectedContractType:f,setLoading:p,getContracts:E,setActiveWeek:v})((function(e){var t=Object(n.useState)("FutOnly"),a=Object(b.a)(t,1)[0];Object(n.useEffect)((function(){e.getContractPositions(e.contractCategory,e.contractSlug,e.contracts.selectedContractType)}),[e.getContractPositions,e.getContracts,a]);var l=function(t){var a=I()(t,"short"),n=e.contracts.selectedContractPositions.findIndex((function(e){return e.As_of_Date_In_Form_YYMMDD===a})),r=e.contracts.selectedContractActiveWeek.category,l=e.contracts.selectedContractPositions;e.setActiveWeek(r,l,n)},o=function(t){e.contracts.selectedContractType!==t&&e.getContractPositions(e.contractCategory,e.contractSlug,t)};return function(){if(e.contracts.loading)return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"rect1"}),r.a.createElement("div",{className:"rect2"}),r.a.createElement("div",{className:"rect3"}),r.a.createElement("div",{className:"rect4"}),r.a.createElement("div",{className:"rect5"}));var t,a=e.contracts.selectedContractActiveWeek.mktName;return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement("title",null,"".concat(a," - Commitments of Traders")),r.a.createElement("meta",{name:"description",content:"".concat(a," meta desc goes here.")})),r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement("div",{className:"contract-header"},r.a.createElement("div",{className:"contract-header-icon"},r.a.createElement(M,null)),r.a.createElement("div",{className:"contract-header-content"},r.a.createElement("div",{className:"contract-header-main-row"},r.a.createElement("h1",null,a,"FutOnly"===e.contracts.selectedContractType?" (Futures Only)":" (Futures and Options)")),(t=e.contracts.selectedContractType,r.a.createElement("div",{className:"box-filters"},r.a.createElement("div",{className:"btn "+("FutOnly"===t?"btn-active":"btn-unactive"),onClick:function(){return o("FutOnly")}},"Futures Only"),r.a.createElement("div",{className:"btn "+("Combined"===t?"btn-active":"btn-unactive"),onClick:function(){return o("Combined")}},"Futures and Options")))))),"financial"===e.contractCategory?r.a.createElement("section",null,r.a.createElement(Y,null),r.a.createElement(V,{handleWeekClick:l})):"disaggregated"===e.contractCategory?r.a.createElement("section",null,r.a.createElement(Y,null),r.a.createElement($,{handleWeekClick:l})):void 0))}()})),Q=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-settings"},r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),r.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))},X=function(e){e.style,e.fill,e.width,e.className,e.viewBox;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-eye"},r.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}))},Z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},ee=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},te=function(){return{type:"PARSE_LOADING"}},ae=Object(_.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,parser:e.parser,error:e.error}}),{logout:function(){return{type:"LOGOUT_SUCCESS"}},parsePositions:function(e,t){return function(a,n){a(te()),h.a.post("/api/admin/parser/"+t,e,ee(n)).then((function(e){return a({type:"PARSE_SUCCESS",payload:e.data})})).catch((function(e){e.response&&(a(Z(e.response.data,e.response.status,"PARSE_FAIL")),a({type:"PARSE_FAIL"}))}))}},clearErrors:function(){return{type:"CLEAR_ERRORS"}}})((function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(""),s=Object(b.a)(c,2),i=s[0],u=s[1];Object(n.useEffect)((function(){e.clearErrors()}),[e.clearErrors]);return r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement("div",{className:"contract-header"},r.a.createElement("div",{className:"contract-header-icon"},r.a.createElement(Q,null)),r.a.createElement("div",{className:"contract-header-content"},r.a.createElement("div",{className:"contract-header-main-row"},r.a.createElement("h1",null,"Adm stuff"),r.a.createElement("span",{onClick:e.logout},"Logout"))))),function(){if(e.error.status)return r.a.createElement("section",null,r.a.createElement("div",{className:"box-white column-layout"},r.a.createElement("h4",null,"Something went wrong! ",r.a.createElement("span",{style:{cursor:"pointer"},onClick:e.clearErrors},"[Dismiss]")),r.a.createElement("ul",{style:{fontSize:"0.8rem"}},r.a.createElement("li",null,"Message: ",e.error.msg),r.a.createElement("li",null,"Status: ",e.error.status),r.a.createElement("li",null,"ID: ",e.error.id))))}(),r.a.createElement("section",null,r.a.createElement("div",{className:"box-white column-layout"},r.a.createElement("div",{className:"box-header"},r.a.createElement("div",{className:"box-title"},r.a.createElement(X,null),r.a.createElement("h2",null,"Weekly Data Parser"))),r.a.createElement("div",{className:"parser-container"},r.a.createElement("h3",null,"Chose Category, Paste JSON data, Click Parse, Cross fingers."),r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.clearErrors(),e.parsePositions(l,i)}(t)},action:"http://localhost:3001/api/admin/parser/".concat(i),method:"POST"},r.a.createElement("input",{type:"submit",value:"Parse",className:"data-url-submit"}),r.a.createElement("select",{name:"category",id:"category-select",onChange:function(e){return u(e.target.value)}},r.a.createElement("option",{value:""},"Choose Category"),r.a.createElement("option",{value:"financial"},"Financial"),r.a.createElement("option",{value:"disaggregated"},"Disaggregated")),r.a.createElement("textarea",{name:"data",id:"data",rows:30,placeholder:"Paste JSON here",onChange:function(e){return function(e){o(e.target.value)}(e)}})),function(){if(Array.isArray(e.parser.log)){var t=e.parser.log.map((function(e){return r.a.createElement("li",{style:{fontSize:"0.8rem"}},e)}));return r.a.createElement("div",null,r.a.createElement("h3",null,"Parsing done:"),r.a.createElement("ul",null,t))}if("Loading..."===e.parser.log&&!e.error.status)return r.a.createElement("div",null,r.a.createElement("h3",null,"Parsing in progress..."))}()))))})),ne=Object(_.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});h.a.post("/api/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"LOGIN_SUCCESS",payload:t.data})})).catch((function(t){e(Z(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}}})((function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(""),s=Object(b.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(""),_=Object(b.a)(d,2),m=_[0],h=_[1];Object(n.useEffect)((function(){var t=e.error;t&&("LOGIN_FAIL"===t.id?h(t.msg.msg):h(null))}),[e.error]);var p=function(e,t){if(t.target.value.length>2)switch(e){case"email":o(t.target.value);break;case"password":u(t.target.value);break;default:return!0}};return r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement("div",{className:"box-white column-layout"},m?r.a.createElement("span",null,m):null,r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.login({email:l,password:i})}(t)},autocomplete:"on",className:"narrow-form"},r.a.createElement("input",{type:"text",name:"email",placeholder:"email",autocomplete:"current-email",onChange:function(e){return p("email",e)}}),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",autocomplete:"current-password",onChange:function(e){return p("password",e)}}),r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-unactive"})))))})),re=Object(_.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{})((function(e){return e.isAuthenticated?r.a.createElement(ae,null):r.a.createElement(ne,null)})),le=function(){return r.a.createElement("footer",null,"\xa9 2020 Commitments of Traders - www.traderscmt.com")},oe=a(18),ce=a(17),se=a(79),ie=a(5),ue={list:[],filteredList:[],searchFilter:"",listFilter:"all",selectedContractPositions:[],selectedContractActiveWeek:{},selectedContractType:"FutOnly",loading:!0},de={isLoading:!1,log:null},_e={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},me={msg:{},status:null,id:null},he=Object(ce.c)({contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return Object(ie.a)({},e,{loading:t.payload});case"GET_CONTRACTS":return Object(ie.a)({},e,{list:t.payload,loading:!1});case"FILTER_CONTRACTS":return Object(ie.a)({},e,{filteredList:t.payload});case"UPDATE_SEARCH_FILTER":return Object(ie.a)({},e,{searchFilter:t.payload});case"UPDATE_LIST_FILTER":return Object(ie.a)({},e,{listFilter:t.payload});case"SET_SELECTED_CONTRACT_TYPE":return Object(ie.a)({},e,{selectedContractType:t.payload});case"GET_CONTRACT_POSITIONS":return Object(ie.a)({},e,{selectedContractPositions:t.payload});case"SET_ACTIVE_WEEK":return Object(ie.a)({},e,{selectedContractActiveWeek:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(ie.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(ie.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(ie.a)({},e,{},t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(ie.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},parser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PARSE_LOADING":return Object(ie.a)({},e,{isLoading:!0,log:"Loading..."});case"PARSE_SUCCESS":return Object(ie.a)({},e,{log:t.payload,isLoading:!1});case"PARSE_FAIL":return Object(ie.a)({},e,{isLoading:!1});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return me;default:return e}}}),pe=[se.a],Ee=Object(ce.e)(he,{},Object(ce.d)(ce.a.apply(void 0,pe))),ge=a(80),fe=a(81),ve=a(83),be=a(82),Ae=function(e){Object(ve.a)(a,e);var t=Object(be.a)(a);function a(){return Object(ge.a)(this,a),t.apply(this,arguments)}return Object(fe.a)(a,[{key:"componentWillUpdate",value:function(e){var t=e.location,a=e.history,n=window.gtag;t.pathname!==this.props.location.pathname&&"PUSH"===a.action&&"function"===typeof n&&n("config","UA-164495098-1",{page_title:document.title,page_location:window.location.href,page_path:t.pathname})}},{key:"render",value:function(){return null}}]),a}(r.a.Component),Se=Object(oe.g)(Ae),ye=function(){return r.a.createElement(_.a,{store:Ee},r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(i,null),r.a.createElement(oe.d,null,r.a.createElement(oe.b,{path:"/",exact:!0,component:R}),r.a.createElement(oe.b,{path:"/contract/:contractcategory/:contractslug",render:function(e){var t=e.match;return r.a.createElement(q,{contractSlug:t.params.contractslug,contractCategory:t.params.contractcategory})}}),r.a.createElement(oe.b,{path:"/nw16ug",exact:!0,component:re}),r.a.createElement(oe.b,{path:"*"},r.a.createElement(oe.a,{to:"/"}))),r.a.createElement(Se,null),r.a.createElement(le,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,a){e.exports=a(205)},89:function(e,t,a){},9:function(e,t){e.exports=function(e,t){if("long"===t){var a=e.slice(4,6),n=e.substring(2,4),r="20"+e.substring(0,2);return"".concat(r,"/").concat(n,"/").concat(a)}if("short"===t){var l=e.toString().replace(/\//g,"");return l=l.slice(2,8)}}}},[[84,1,2]]]);
//# sourceMappingURL=main.61609fda.chunk.js.map